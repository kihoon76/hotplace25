!function(hotplace,$){var _version="1.0",_ROOT_CONTEXT=$("body").data("url");function _s4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}$.browser={},$.browser.msie=!1,$.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&($.browser.msie=!0,$.browser.version=RegExp.$1),String.prototype.format=function(){for(var e=this,t=arguments.length;t--;)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return e},String.prototype.money=function(){var e=this;return e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},String.prototype.getDecimalCount=function(){var e=this.indexOf(".");return-1==e?-1:this.length-(e+1)},hotplace.config={salesViewLevel:8,minZoomLevel:3,mapDefaultX:127.9204629,mapDefaultY:36.0207091,addrSearchPanLevel:10,yangdoseStepPercent:5,gyeongmaeDetailImgInterval:2e3,markerGrpCount:2},Handlebars.registerHelper("json",function(e){return JSON.stringify(e)}),Handlebars.registerHelper("x",function(expression,options){var result,context=this;with(context)result=function(){try{return eval(expression)}catch(e){}}.call(context);return result}),Handlebars.registerHelper("xif",function(e,t){return Handlebars.helpers.x.apply(this,[e,t])?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("currency",function(e,t){return"string"==typeof e&&(e=t.contexts[0].get(e)),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("math",function(e,t,r,n){return arguments.length<4&&(r,r=t,t="+"),{"+":(e=parseFloat(e))+(r=parseFloat(r)),"-":e-r,"*":e*r,"/":e/r,"%":e%r}[t]}),Handlebars.registerHelper("step",function(e,t){for(var r=e.toString().length,n="",o=0;o<r;o++)n+=0==o?"1":"0";var a=parseInt(n);return Math.round(a*(.01*t))}),hotplace.isSupport=function(e,t){return $.inArray(e,t)>-1},hotplace.ajax=function(e){var t=hotplace.dom;$.ajax(_ROOT_CONTEXT+e.url,{async:null==e.async||e.async,beforeSend:function(r){(void 0==e.activeMask||e.activeMask)&&!e.isMaskTran&&t.showMask(e.loadEl,e.loadMsg),e.beforeSend&&"function"==typeof e.beforeSend&&e.beforeSend(r)},contentType:e.contentType||"application/x-www-form-urlencoded; charset=UTF-8",dataType:e.dataType||"json",method:e.method||"POST",context:e.context||document.body,data:e.data,statusCode:{404:function(){}},success:function(r,n,o){if(!e.success||"function"!=typeof e.success)throw new Error("success function not defined");try{e.success(r,n,o)}finally{(void 0==e.activeMask||e.activeMask)&&(e.isMaskTran?t.hideMaskTransaction():t.hideMask())}},error:function(r,n,o){e.error&&"function"==typeof e.error&&e.error(r,n,o),(void 0==e.activeMask||e.activeMask)&&(e.isMaskTran?t.hideMaskTransaction():t.hideMask())},complete:function(t,r){e.complete&&e.complete(t)},timeout:e.timeout||3e5})},hotplace.getPlainText=function(e,t,r,n,o,a,s){hotplace.ajax({url:e,method:"GET",dataType:"text",data:t||{},activeMask:void 0==n||n,isMaskTran:o,loadEl:s,success:function(e,t,n){var o=$.parseJSON(e);o.success?r(o):n.errCode=o.errCode},error:function(){},complete:function(e){switch(e.errCode||$.parseJSON(e.responseText).errCode){case"100":hotplace.dom.showAuthMsg(a);break;case"202":hotplace.dom.showAuthMsg(function(){window.location.reload()},"중복 로그인");case"900":window.location.reload()}}})},hotplace.getPlainTextFromJson=function(e,t,r,n,o){hotplace.ajax({url:e,method:"POST",dataType:"text",contentType:"application/json; charset=UTF-8",data:t||{},loadEl:o,activeMask:void 0==n||n,success:function(e,t,n){var o=$.parseJSON(e);r(o)},error:function(){}})},hotplace.createUuid=function(){return _s4()+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+_s4()+_s4()},hotplace.getContextUrl=function(){return _ROOT_CONTEXT}}(window.hotplace=window.hotplace||{},jQuery);
!function(e,a){var t="",n=document.getElementById("map"),o=null,r=null,i=null,l=!1,s=["zoom_changed","bounds_changed","dragend","zoom_start","click","tilesloaded","idle","panning"],c=["naver","daum"],p={swy:0,swx:0,ney:0,nex:0},u={swy:0,swx:0,ney:0,nex:0},d={swy:0,swx:0,ney:0,nex:0},g={DEFAULT:"HP",GONGSI:"GONGSI",GONGSI_GR:"GONGSI_GR"},f={DEFAULT:0,GONGSI:0,GONGSI_GR:0},v={GYEONGMAE:0,GONGMAE:0,BOSANG:0,PYEONIB:0,SILGEOLAE:0,ACCEPT_BUILDING:0},m={BOSANG:{},PYEONIB:{}};e.getActiveMarkers=function(){var e=[];for(var a in v)1==v[a]&&e.push(a);return e},e.getMap=function(){return r},e.setAllOffMarkers=function(){for(var e in v)v[e]=0},e.isActiveMarker=function(e){if(void 0==v[e])throw new Error("[ "+e+" ]는 지원되지 않는 마커타입입니다");return 1==v[e]},e.setMarkers=function(e){for(var a in e){if(void 0==v[a])throw new Error("마커타입 ["+a+"]가 존재하지 않습니다");v[a]=e[a]}},e.setActiveCell=function(e){if("OFF"!=e)for(var a in f)f[a]=a==e?1:0;else for(var a in f)f[a]=0},e.changeCell=function(e){h();for(var a in g);},e.cellStart=function(){hotplace.dom.addBodyAllMask(),setTimeout(function(){w()?(T(),hotplace.dom.enableYearRangeDiv(!1),hotplace.database.initLevel(x(),h())):(!function(){for(var e=y.length-1;e>=0;e--)y[e].setMap(r)}(),e.showCellLayer(),hotplace.dom.enableYearRangeDiv(!0)),hotplace.dom.removeBodyAllMask()},100)};var h=function(){for(var e in g)if(1==f[e])return g[e]},w=function(e){for(var a in f)if(1==f[a])return!1;return!0};e.isOffCell=w;var y=[],k=[],b={RADIUS_SEARCH:"RADIUS_SEARCH",GYEONGMAE:"GYEONGMAE",GONGMAE:"GONGMAE",BOSANG:"BOSANG",PYEONIB:"PYEONIB",SILGEOLAE:"SILGEOLAE",ACCEPT_BUILDING:"ACCEPT_BUILDING",MULGEON_SEARCH:"MULGEON_SEARCH"};e.MarkerTypes=b,e.CellTypes=g;var L={RADIUS_SEARCH:{m:[],c:[],url:""},GYEONGMAE:{m:[],url:"gyeongmaemarker",icon:"gyeongmae.png"},GONGMAE:{m:[],url:"gongmaemarker",icon:"gongmae.png"},BOSANG:{m:[],url:"bosangmarker",icon:"bosang.png",clusterIcon:"bosangC.png",clustering:!0,stopLevel:11},PYEONIB:{m:[],url:"pyeonibmarker",icon:"pyeonib.png",clusterIcon:"pyeonibC.png",clustering:!0},SILGEOLAE:{m:[],url:"silgeolaemarker",icon:"silgeolae.png"},ACCEPT_BUILDING:{m:[],url:"acceptbuildingmarker",icon:"acceptbuilding.png",level:13},MULGEON_SEARCH:{m:[],icon:"search.png"}};e.getMarkerIcon=function(e){return L[e].icon};var G={RADIUS_SEARCH:[],GYEONGMAE:[],GONGMAE:[],BOSANG:[],PYEONIB:[],SILGEOLAE:[],ACCEPT_BUILDING:[],MULGEON_SEARCH:[]};function C(){var e=null;switch(t){case"daum":e=r.getBounds(),p={swx:e.ba,swy:e.ha,nex:e.fa,ney:e.ga};break;case"naver":e=r.getBounds(),p={swx:e._sw.x,swy:e._sw.y,nex:e._ne.x,ney:e._ne.y}}var a=[60,60,60,20,20,20,20,20,20,20,20,20],n=parseFloat((p.nex-p.swx)/a[x()-3]),o=parseFloat((p.ney-p.swy)/a[x()-3]);u.swx=p.swx-n,u.swy=p.swy-o,u.nex=p.nex+n,u.ney=p.ney+o}function E(){var e=[.5,.5,2,4,4,4,4,4,4,4,4,4],a=parseFloat((u.nex-u.swx)/e[x()-3]),t=parseFloat((u.ney-u.swy)/e[x()-3]);d.swx=u.swx-a,d.swy=u.swy-t,d.nex=u.nex+a,d.ney=u.ney+t}function x(){var e=-1;switch(t){case"daum":e=r.getLevel();break;case"naver":e=r.getZoom()}return e}function O(e){var a=e.colorV;return a>=1020?"rgb(255,0,0)":a>=765&&a<1020?"rgb(255,"+(1020-a)+",0)":a>=510&&a<765?"rgb("+(a-510)+",255,0)":a>=255&&a<510?"rgb(0,255,"+(510-a)+")":"rgb(0,"+a+",255)"}function I(e,a,n,i,l,s,c){var p=null;switch(t){case"daum":break;case"naver":(p=new o.Rectangle({map:w()?null:r,bounds:new o.LatLngBounds(new o.LatLng(e,a),new o.LatLng(n,i)),strokeWeight:l&&void 0!=l.strokeWeight?l.strokeWeight:0,strokeColor:l&&void 0!=l.strokeColor?l.strokeColor:"#5347AA",strokeOpacity:l&&void 0!=l.strokeOpacity?l.strokeOpacity:.5,fillColor:l&&void 0!=l.fillColor?l.fillColor:"rgb(255,051,000)",fillOpacity:l&&void 0!=l.fillOpacity?l.fillOpacity:.1,clickable:!0})).data=s}return p}function A(e,a,t,n){for(var o=e.length,r=u.nex,i=u.swy,l=u.ney,s={},c="x",p=null,d=null,g=a;g<o;g++){if(d=e[g].info,n&&n.isClustering&&!n.stopGroupping){if(m[n.markerType][c])continue;c!=d.xg&&(s[c]&&(t(s[c]),m[n.markerType][c]=!0),c=d.xg)}if(e[g].location[0]>r)break;(p=e[g].location[1])>=i&&p<=l&&(n&&n.isClustering&&!n.stopGroupping?m[n.markerType][c]||s[c]||(s[c]=e[g]):e[g].id||(e[g].id="1",0,t(e[g])))}n&&n.isClustering&&!n.stopGroupping&&!m[n.markerType][c]&&s[c]&&(t(s[c]),m[n.markerType][c]=!0)}function M(e,a){return!(void 0==a||a>=e)}function S(a,t,n,o,r){var i,l=M(a,r.stopLevel);switch(n){case b.GYEONGMAE:i=hotplace.database.getLevelData(a,b.GYEONGMAE);break;case b.GONGMAE:i=hotplace.database.getLevelData(a,b.GONGMAE);break;case b.BOSANG:i=hotplace.database.getLevelData(a,b.BOSANG);break;case b.PYEONIB:i=hotplace.database.getLevelData(a,b.PYEONIB);break;case b.SILGEOLAE:i=hotplace.database.getLevelData(a,b.SILGEOLAE);break;case b.ACCEPT_BUILDING:i=hotplace.database.getLevelData(a,b.ACCEPT_BUILDING)}A(i,t,function(a){e.getMarker(n,a,o,r,l)},{isClustering:r.isClustering,markerType:n,stopGroupping:l})}function N(e,a){var t,n=h();switch(n){case g.GONGSI:case g.GONGSI_GR:t=O;break;default:t=_getColorByHpWeight}A(hotplace.database.getLevelData(e,n),a,function(e){y.push(I(e.location[1],e.location[0],e.location[3],e.location[2],{fillColor:t(e.weight[0]),fillOpacity:.5},e))})}function T(e){for(var a=y.length-1;a>=0;a--)y[a].setMap(null);e||(y=[])}function _(e){for(var a in L)("RADIUS_SEARCH"!=a&&"MULGEON_SEARCH"!=a||!e)&&B(a)}function B(e){var a=L[e];if(!a)throw new Error(e+"is not exist");for(var t=a.m,n=a.c,o=t.length,r=n?n.length:0,i=0;i<o;i++)t[i].setMap(null);for(var l=0;l<r;l++)n[l].setMap(null);L[e].m=[],n&&(L[e].c=[]),L[e].clustering&&(m[e]={})}function D(e,a,t,n){switch(n){case"GYEONGMAE":hotplace.gyeongmae.markerClick(e,a,t);break;case"GONGMAE":hotplace.gongmae.markerClick(e,a,t);break;case"BOSANG":hotplace.bosangpyeonib.markerClick(e,a,t,"보상");break;case"PYEONIB":hotplace.bosangpyeonib.markerClick(e,a,t,"편입");break;case"SILGEOLAE":hotplace.silgeolae.markerClick(e,a,t);break;case"ACCEPT_BUILDING":hotplace.acceptbuilding.markerClick(e,a,t)}}function R(e){var a=hotplace.database,t=x();if(a.hasData(t,e)){var n=a.getStartXIdx(e,u.swx,t),o={};void 0==L[e].trigger?o.click=function(a,t,n){D(a,t,n,e)}:o[L[e].trigger]=function(a,t,n){D(a,t,n,e)},S(t,n,e,o,{hasInfoWindow:!0,isAjaxContent:!0,radius:0,icon:L[e].icon,clusterIcon:L[e].clusterIcon,isClustering:L[e].clustering,stopLevel:L[e].stopLevel,curLevel:t})}}e.getCurrentLevel=x,e.getColorWeight=O,e.destroyMarkers=_,e.destroyMarkerType=B,e.isActiveSalesView=function(){return x()>=hotplace.config.salesViewLevel},e.destroyMarkerWindow=function(e){if(e){var a=G[e].length;if(a>0){for(var t=0;t<a;t++)G[e][t].close();G[e]=[]}}},e.destroyAllMarkerWindow=function(){for(var a in G)e.destroyMarkerWindow(a)},e.setLevel=function(e){switch(t){case"naver":r.setZoom(e);break;case"daum":r.setLevel(e)}},e.getClickedCell=function(e){for(var a=k.length,t=0,n=0,o=0,r=0,i=0;i<a;i++)if(t=k[i].location[0],o=k[i].location[2],n=k[i].location[1],r=k[i].location[3],e.x>=t&&e.x<=o&&e.y>=n&&e.y<=r){y.push(I(n,t,r,o,{fillColor:"rgba(255,255,255,0.0)",fillOpacity:.1},k[i])),k.slice(i,1);break}},e.getVender=function(){return o},e.getVenderMap=function(){return r},e.getCurrentLevel=function(){return x()},e.event={addListener:function(e,a){if(!hotplace.isSupport(e,s))throw new Error("["+e+" 는(은) 지원하지 않습니다](supported : zoom_changed, bounds_changed");var n,o;switch(t){case"naver":case"daum":n=i.addListener}"zoom_start"==e&&(e="naver"==t?"zooming":"zoom_start"),n(r,e,(o=e,function(e){var n=function(e,a){var n;switch(e){case"zoom_changed":C(),n=x();break;case"zoom_start":n=r.getLevel();break;case"zooming":n=r.getZoom();break;case"dragend":C(),n=p;break;case"click":n="naver"==t?{x:a.latlng.x,y:a.latlng.y}:{x:a.latLng.gb,y:a.latLng.hb};break;case"tilesloaded":case"idle":case"panning":n={}}return n}(o,e);a(r,n)}))}},e.init=function(a,s,p,u){if(l)throw new Error("init 함수는 이미 호출 되었습니다");if(!hotplace.isSupport(a,c))throw new Error("["+a+"는(은) 지원하지 않습니다](supported : naver, daum");switch(t=a,l=!0,a){case"naver":o=naver.maps,i=o.Event;var d=new naver.maps.MapTypeRegistry;(r=new o.Map(n,{center:new o.LatLng(s.Y,s.X),zoom:s.level,mapTypes:d,mapTypeControl:!0,mapTypeControlOptions:{style:o.MapTypeControlStyle.BUTTON,position:o.Position.TOP_RIGHT},minZoom:s.minZoom||3,logoControl:!1,disableDoubleClickZoom:!0})).mapTypes.set(naver.maps.MapTypeId.NORMAL,naver.maps.NaverMapTypeOption.getNormalMap()),r.mapTypes.set(naver.maps.MapTypeId.HYBRID,naver.maps.NaverMapTypeOption.getHybridMap());break;case"daum":o=daum.maps,i=daum.maps.event,r=new o.Map(n,{center:new o.LatLng(s.Y,s.X),level:s.level})}if(C(),p)for(var g in p)e.event.addListener(g,p[g]);u&&u(r)},e.panToBounds=function(e,a,n){"naver"==t&&r.morph(new o.LatLng(e,a),hotplace.config.addrSearchPanLevel,{duration:100}),n()},e.getClusterMarker=function(e,a,t,n){},e.getMarker=function(e,t,n,l,s){var c,p=null,u="";if((c=new o.Marker({position:new o.LatLng(t.location[1],t.location[0]),map:r}))._data=t,l.icon){var d=22,g=33;l.size&&(d=l.size.x,g=l.size.y),u=l.isClustering&&!s&&t.info.xgc>=hotplace.config.markerGrpCount?'<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url('+hotplace.getContextUrl()+"resources/img/marker/"+l.clusterIcon+');background-size:contain;">'+t.info.xgc+"</div>":'<img src="'+hotplace.getContextUrl()+"resources/img/marker/"+l.icon+'" alt="" style="margin: 0px; padding: 0px; border: 0px solid transparent; display: block; max-width: none; max-height: none; -webkit-user-select: none; position: absolute; width: '+d+"px; height: "+g+'px; left: 0px; top: 0px;">',c.setOptions("icon",{content:u,size:new o.Size(d,g),anchor:new o.Point(d/2,g)})}if(L[e].m.push(c),l.hasInfoWindow){var f={anchorSkew:!0};if(!l.isAjaxContent){var v=hotplace.dom.getTemplate(l.infoWinFormName);f.content=v({datas:l.datas.params})}p=new o.InfoWindow(f),G[e].push(p)}if(n)for(var m in n)i.addListener(c,m,function(e,a){return function(t){n[e](r,c,a)}}(m,p));if(l.radius){var h=new o.Circle({map:r,center:new o.LatLng(t.location[1],t.location[0]),radius:l.radius,fillColor:"rgba(250,245,245)",fillOpacity:0,clickable:!0,zIndex:3e7});i.addListener(h,"click",function(e){hotplace.dom.insertFormInmodal("radiusSearchResultForm"),hotplace.dom.openModal(l.datas.params.address+" 일대 (반경: "+l.radius+"m)"),a("#example-table").tabulator({height:600,fitColumns:!0,columns:[{title:"지번",field:"name",width:300},{title:"소유구분",field:"age",align:"left",formatter:"progress",width:150},{title:"지목",field:"col",width:150},{title:"면적",field:"dob",sorter:"date",align:"center",width:150}],rowClick:function(e,a){}});var t=[{id:1,name:"서울시 강남구 도곡동 963",age:"12",col:"red",dob:""},{id:2,name:"서울시 강남구 도곡동 964",age:"1",col:"blue",dob:"14/05/1982"},{id:3,name:"서울시 강남구 도곡동 965",age:"42",col:"green",dob:"22/05/1982"},{id:4,name:"서울시 강남구 도곡동 966",age:"125",col:"orange",dob:"01/08/1980"},{id:5,name:"서울시 강남구 도곡동 967",age:"16",col:"yellow",dob:"31/01/1999"}];setTimeout(function(){a("#example-table").tabulator("setData",t)},1e3)}),i.addListener(h,"mouseover",function(e){h.setOptions({fillOpacity:.5})}),i.addListener(h,"mouseout",function(e){h.setOptions({fillOpacity:0})}),L[e].c.push(h)}},e.appendCell=function(){var e=hotplace.database,a=x();e.hasData(a,h())&&N(a,e.getStartXIdx(h(),u.swx,a))},e.appendMarker=function(){for(var a=hotplace.database,t=x(),n=e.getActiveMarkers(),o=n.length,r=0;r<o;r++)if(a.hasData(t,b[n[r]])){var i=a.getStartXIdx(b[n[r]],u.swx,t),l={};void 0==L[n[r]].trigger?l.click=function(e){return function(a,t,n){D(a,t,n,e)}}(b[n[r]]):l[L[n[r]].trigger]=function(e){return function(a,t,n){D(a,t,n,e)}}(b[n[r]]),S(t,i,b[n[r]],l,{hasInfoWindow:!0,isAjaxContent:!0,radius:0,icon:L[n[r]].icon,clusterIcon:L[n[r]].clusterIcon,isClustering:L[n[r]].clustering,stopLevel:L[n[r]].stopLevel})}},e.isInLocationBounds=function(e){return!(d.swx>e.swx||d.nex<e.nex||d.swy>e.swy||d.ney<e.ney)},e.showCellLayer=function(e,t){if(!w()){var n=hotplace.database,o=x();if(r){E(),hotplace.dom.closeInfoWindowForCell(),hotplace.database.initLevel(o);var i=o>=3&&o<=5?o+1:o;hotplace.getPlainText("locationbounds",{level:i,swx:d.swx,nex:d.nex,swy:d.swy,ney:d.ney,year:hotplace.dom.getShowCellYear()+"01",type:h()},function(a){try{n.setLevelData(o,h(),a.datas),T(),t=hotplace.database,r=x(),t.hasData(r,h())&&N(r,t.getStartXIdx(h(),u.swx,r)),e&&e()}catch(e){throw e}var t,r},!0,t,function(){a("input[name=rdoHeatmap]").trigger("change",!0),hotplace.dom.offMenuListButton("menu-cell-list")})}}},e.showMarkers=function(t,n){e.isActiveSalesView()&&a('#dvSalesView input[type="checkbox"]').each(function(){var e=a(this),t=e.data("value"),n=null,o=e.prop("checked"),r=x();e.data("prev"),t&&(n=L[t].level)&&(r>=n?e.prop("disabled",!1):(e.prop("disabled",!0),o?(e.prop("checked",!1),v[t]=0):e.data("prev","off")))});var o=x(),i=e.getActiveMarkers(),l=i.length,s="",c="Y";if(e.isActiveSalesView()&&l>0){if(_(!0),E(),r)for(var p=0;p<l;p++)s=L[i[p]].url,function(e){c=M(o,L[i[e]].stopLevel),hotplace.getPlainText(s,{swx:d.swx,nex:d.nex,swy:d.swy,ney:d.ney,level:o,stopGrouping:c?"Y":"N"},function(a){try{hotplace.database.setLevelData(o,b[i[e]],a.datas),R(b[i[e]]),t&&t()}catch(e){throw e}},!0,n,function(){hotplace.dom.uncheckAll("dvSalesView")})}(p)}else e.isActiveSalesView()||hotplace.dom.hideMenuList("menu-mulgeon-list")},e.showJijeokLayer=function(e,a){"on"==e?("naver"==t?o._cadastralLayer.setMap(null):"daum"==t&&r.removeOverlayMapTypeId(o.MapTypeId.USE_DISTRICT),a.data("switch","off"),a.removeClass("jijeok-on")):"off"==e&&("naver"==t?o._cadastralLayer.setMap(r):"daum"==t&&r.addOverlayMapTypeId(o.MapTypeId.USE_DISTRICT),a.data("switch","on"),a.addClass("jijeok-on"))}}(hotplace.maps=hotplace.maps||{},jQuery);