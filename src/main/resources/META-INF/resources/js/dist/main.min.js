$(document).ready(function(){var e=hotplace.config.minZoomLevel,o=e,t={},a=null,n=$("body").data("currentX"),l=$("body").data("currentY"),c=$("#lnbArea .MULGEON");function i(e,o,a,n){var l=a.data("key");if(e>=o){if(t[l])return;a.removeClass("disabled"),t[l]=!0}else t[l]&&!a.hasClass("disabled")&&(a.addClass("disabled"),t[l]=!1,hotplace.dom.hideLnbContent(n))}function s(){return o-e<0}$("#btnJijeok").on("click",function(){var e=$(this).data("switch");hotplace.maps.showJijeokLayer(e,$(this))}),$("#btnMapNormal").on("click",function(){$(this).addClass("active"),$("#btnMapSatellite").removeClass("active"),hotplace.maps.showMapType("NORMAL")}),$("#btnMapSatellite").on("click",function(){$(this).addClass("active"),$("#btnMapNormal").removeClass("active"),hotplace.maps.showMapType("HYBRID")}),$("#btnStreetView").on("click",function(e,o){if(o||hotplace.maps.isOffCell()){var t=$(this).data("switch");"on"==t?hotplace.streetview.stop():hotplace.maps.offCalcDisArea(),hotplace.dom.activeButton(t,$(this)),hotplace.maps.showStreetLayer(t,$(this))}else hotplace.dom.showAlertMsg(null,"히트맵을 끄신후에 이용하세요",{width:"50%"})}),$("#btnTimeview").on("click",function(){var e=$(this),o=e.data("switch");hotplace.dom.activeButton(o,e),"on"==o?$("#dvTimeview").hide():($("#dvTimeview").show(),$("#dvYearRange").rangeSlider("resize"))}),$("#memuList > li > a").on("click",function(){hotplace.dom.showLnbContent($(this))}),$(document).on("click","#lnbCont .close",function(){hotplace.dom.hideLnbContent($(this))}),$("#gnbLogin").on("click",function(e){hotplace.dom.showLoginForm()}),$("#gnbLogout").on("click",function(e){hotplace.dom.showLogoutForm(function(){window.location.reload()})}),$("#gnbFullScreen").on("click",function(){hotplace.dom.toggleFullScreen(),$(this).toggleClass("off")}),$("#btnContextLocAddress").on("click",function(){var e=naver.maps.TransCoord.fromLatLngToTM128(a);hotplace.dom.searchCoordToAddress(a,e),hotplace.dom.hideContextMenu()}),$("#modalSite").on("click",function(){hotplace.dom.showSite()}),$("#modalNotice").on("click",function(){hotplace.dom.showNoticeList()}),$("#modalMypage").on("click",function(){hotplace.dom.showMypage(function(){hotplace.mypage.init()})}),$(".contactUsLayer dl dd textarea").on("blur",function(e){var o;(o=hotplace.browser.msie?document.activeElement:e.relatedTarget)&&"BUTTON"==o.nodeName&&$("#btnQuestionApply").trigger("click")}),$("#btnQuestionApply").on("click",function(){var e=$("#txtQuestionPhone"),o=$("#txtQuestionContent"),t=$.trim(e.val()).trimTS(),a=$.trim(o.val()).trimTS();if(""!=t){if(""!=a)return/[^0-9]+$/gi.test(t)?(e.focus(),void e.val("")):void hotplace.ajax({url:"question",data:JSON.stringify({phone:t,question:a}),contentType:"application/json; charset=UTF-8",success:function(t,a,n){t.success?(hotplace.dom.showAlertMsg(null,"상담이 신청되었습니다",{width:"400px"}),e.val(""),o.val("")):hotplace.dom.showAlertMsg(null,"오류가 발생했습니다",{width:"400px"})}});o.focus()}else e.focus()}),$("#modalTutorial").on("click",function(){hotplace.dom.showTutorial()});var r=!1,h=!1;function p(){!$.cookie("intro")&&hotplace.dom.showIntroMain()}$("#myCurrentPosition").on("click",function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){window.location.href=$(body).data("url")+"main?currentX="+e.coords.longitude+"&currentY="+e.coords.latitude},function(e){hotplace.dom.showAlertMsg(null,"위치차단 되었습니다.",hotplace.ALERT_SIZE)})}),hotplace.maps.init("naver",{X:n||hotplace.config.mapDefaultX,Y:l||hotplace.config.mapDefaultY,level:hotplace.config.minZoomLevel},{zoom_changed:function(o,t){e=t,hotplace.dom.addBodyAllMask(),!s()&&!r&&hotplace.menu.hasMulgeonView()&&e<hotplace.config.mulgeonViewLevel?(r=!0,h=!1,hotplace.dom.showAlertMsg(null,"물건보기가 비활성화 되었습니다",{width:"40%"}),hotplace.menu.initMulgeonView()):s()&&!h&&e>hotplace.config.mulgeonViewLevel&&(r=!1,h=!0),setTimeout(function(){if(hotplace.maps.isOffCell()){if(hotplace.maps.isActiveMulgeonView()){var e=hotplace.maps.getActiveMarkers().length;e>0?(hotplace.dom.showMaskTransaction(e),hotplace.maps.showMarkers(null,!0)):hotplace.maps.checkMarkerLevelLimit(!1,!0)}}else hotplace.dom.showMaskTransaction(hotplace.maps.isActiveMulgeonView()?1+hotplace.maps.getActiveMarkers().length:1),hotplace.maps.showCellLayer(null,!0),hotplace.maps.showMarkers(null,!0);hotplace.dom.removeBodyAllMask(),i(t,hotplace.config.mulgeonViewLevel,c,$("#"+hotplace.config.menus.MULGEON_VIEW+" .close"))},500)},zoom_start:function(e,t){o=t,hotplace.maps.destroyMarkers(!0),hotplace.maps.destroyAllMarkerWindow(),hotplace.database.initLevel(t),hotplace.dom.hideContextMenu()},dragend:function(e,o){if(hotplace.maps.isOffCell())if(hotplace.maps.isInLocationBounds(o))hotplace.maps.appendMarker();else{var t=hotplace.maps.getActiveMarkers().length;t>0&&(hotplace.dom.showMaskTransaction(t),hotplace.maps.showMarkers(null,!0))}else hotplace.maps.isInLocationBounds(o)?(hotplace.maps.appendCell(),hotplace.maps.appendMarker()):(hotplace.dom.showMaskTransaction(hotplace.maps.isActiveMulgeonView()?1+hotplace.maps.getActiveMarkers().length:1),hotplace.maps.showCellLayer(null,!0),hotplace.maps.showMarkers(null,!0))},click:function(e,o){"on"==$("#btnStreetView").data("switch")&&hotplace.streetview.startPanorama(e,o)},mousedown:function(){hotplace.dom.hideContextMenu()},rightclick:function(e,o){hotplace.dom.isActiveCalcArea()||hotplace.dom.isActiveCalcDistance()||(a=o.coord,e.getPanes().overlayLayer.appendChild($("#dvContextMenu")[0]),$("#dvContextMenu").css("left",o.offset.x).css("top",o.offset.y).show())},mouseover:function(e,o){"on"==$("#btnStreetView").data("switch")&&hotplace.streetview.start(e,o.coord)},mousemove:function(e,o){"on"==$("#btnStreetView").data("switch")&&hotplace.streetview.moveMarker(o.coord)},idle:function(){hotplace.maps.isPanningStart()&&(hotplace.maps.trigger(null,"zoom_changed"),hotplace.maps.disablePanningStart())}},function(o){var t;hotplace.dom.showYearRangeDiv(),hotplace.dom.showAutoYearRangeDiv(),hotplace.dom.enableYearRangeDiv(!1),i(e,hotplace.config.mulgeonViewLevel,c,$("#"+hotplace.config.menus.MULGEON_VIEW+" .close")),$("#lnbMulgeonLi > a").trigger("click"),$("#mulgeonGyeongmae").prop("checked",!0),$("#mulgeonGongmae").prop("checked",!0),$("#btnViewMulgeon").trigger("click"),t=p,hotplace.browser.msie||hotplace.browser.msedge?hotplace.dom.showAlertMsg(t,'크롬브라우저 사용을 권장합니다.<br/><a href="https://www.google.co.kr/chrome/index.html" target="_blank" style="font-size:.7em; color:#298A08;">크롬다운로드</a>',{width:"30%"}):t&&t()}),hotplace.validation.numberOnly(".numberOnly"),hotplace.validation.numberNdot(".numberNdot")});